language: java

jdk:
  - oraclejdk8

sudo: false

cache:
  directories:
    - '$HOME/.m2/repository'

before_script:
    - echo "MAVEN_OPTS='-Xmx1g'" > ~/.mavenrc

before_install:
    - cp src/build/travis-toolchains.xml ~/.m2/toolchains.xml

install: mvn -Ptoolchains -DskipTests=true -Dbasepom.check.skip-all=true -B install
script: mvn -Ptoolchains -B verify
